<h2>Light Bulbs Test</h2>
<p>Please provide numerical values for the fields below and click <strong>Run</strong>.</p>
<br />
<div *ngIf="displayMessage" class="alert alert-warning alert-dismissible fade show" role="alert">
  {{ displayMessage }}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<form [formGroup]="lightBulbForm" (ngSubmit)="onSubmit()" novalidate>
  <div class="d-flex justify-content-start">
    <div class="form-group w-25 mr-2">
      <label for="peopleCount">People Count</label>
      <input type="number" class="form-control" formControlName="peopleCount" id="peopleCount" placeholder="enter a number" />
      <div class="text-danger" *ngIf="fc.peopleCount.dirty && fc.peopleCount.errors?.required">Input is required!</div>
    </div>
    <div class="form-group w-25 mr-3">
      <label for="lightBulbCount">Light-Bulb Count</label>
      <input type="number" class="form-control" formControlName="lightBulbCount" id="lightBulbCount" placeholder="enter a number" />
      <div class="text-danger" *ngIf="fc.lightBulbCount.dirty && fc.lightBulbCount.errors?.required">Input is required!</div>
    </div>
    <div class="form-group pt-2">
      <br />
      <button type="submit" class="btn btn-success" [disabled]="lightBulbForm.invalid">Run</button>
    </div>
  </div>
</form>
<div *ngIf="onLightBulbsCount > -1" class="alert alert-success alert-dismissible fade show mt-5" role="alert">
  <h4 class="alert-heading"><span class="fa fa-lightbulb text-warning"></span> On Light Bulb Results</h4>
  <div *ngIf="lightBulbs" class="d-flex flex-wrap justify-content-start">
    <div><strong>IDs:</strong> </div>
    <div *ngFor="let bulb of onLightBulbs" class="ml-1">
      {{ bulb.id }},
    </div>
  </div>
  <p *ngIf="onLightBulbsCount > -1"><strong>Count:</strong> {{ onLightBulbsCount }}</p>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
  <hr/>
  <div class="d-flex flex-wrap justify-content-start">
    <div *ngFor="let bulb of lightBulbs" class="mr-4">
      <small>{{ bulb.id }}</small><i class="fa fa-lightbulb ml-1" [class.text-warning]="bulb.isOn"></i>
    </div>
  </div>
</div>
